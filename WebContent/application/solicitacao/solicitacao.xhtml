<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui" 
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:comp="http://grrecurso.com.br/comp">
<ui:composition template="/WEB-INF/template/aplicacaoTemplate.xhtml">
		<ui:define name="aplicacao">
			<comp:form id="formApp">
				<p:panel id="panelSolicitacao" header="Solicitação">	
				
					<comp:inputText id="chamado" label="Nº do chamado" value="#{solicitacaoAction.solicitacao.chamado}"
						placeholder="123456" required="true" requiredMessage="O nº do chamado é obrigatório."/>
						
					<comp:inputTextarea id="descricao" label="Descrição"
						placeholder="Descrição..." 
						value="#{solicitacaoAction.solicitacao.descricao}" required="true" requiredMessage="A descrição é obrigatória."/>	
					
					<comp:inputSelectOneMenu id="status" label="Situação da solicitação" value="#{solicitacaoAction.solicitacao.situacao}" required="true" requiredMessage="A situação da solicitação é obrigatória.">
						<f:selectItems var="item" value="#{solicitacaoAction.listaSituacaoSolicitacao}" itemLabel="#{item.desc}"/>
					</comp:inputSelectOneMenu>	
					
					<comp:inputSelectOneMenu id="modulo" label="Módulo" value="#{solicitacaoAction.solicitacao.modulo}"
						required="true" requiredMessage="O módulo é obrigatório." converter="EntityConverter">						
						<f:selectItems var="modulo" value="#{solicitacaoAction.listaModulos}" itemLabel="#{modulo.nome}" itemValue="#{modulo}"/>
								
					</comp:inputSelectOneMenu>	
					
					<br/>
					
					<h:commandButton value="#{solicitacaoAction.isIncluir() ? 'Incluir' : 'Alterar'}" action="#{solicitacaoAction.persistir}" 
							process="panelSolicitacao" update="panelSolicitacao" styleClass="btn btn-default"/>
					<h:commandButton value="Cancelar" action="pretty:solicitacaoPesquisa" rendered="#{solicitacaoAction.isAlterar()}" 
							styleClass="btn btn-default"/>
					
				</p:panel>	
			</comp:form>	    
		</ui:define>
		
</ui:composition>
</html>